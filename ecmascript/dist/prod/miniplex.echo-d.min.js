"use strict";!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echoD=e():t.echoD=e()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(()=>(Object("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).webpackChunkechoD=Object("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).webpackChunkechoD||[]).push([[1],{506:(t,e,s)=>{s.a(t,(async(t,n)=>{try{s.r(e),s.d(e,{MiniplexStorage:()=>d,defaultGetGroupedValue:()=>u,defaultSetGroupedValue:()=>c});var o=s(699),r=s(464);const{World:i}=await s.e(939).then(s.t.bind(s,939,19));function u(t,e,s,n){const o=s[n];return Array.isArray(o)?t.slice(e*o[1],(e+1)*o[1]):t[e]}function c(t,e,s){return t}class d extends o.Ke{constructor(t,e){super({...t||{},actors:new Map,components:null,entities:new Map,inputs:null},e);const{worldOptions:s=[]}=e;this.worldOptions=s,this.world=t?.world||new i}destroyActor(t){return this.destroyId(this.actors,t)}destroyComponent(t,e){const s=this.actors.get(t)||this.entities.get(t);if(s){const n=s[e];if(this.world.removeComponent(s,e),this.componentsIndex.remove(t,e),this.indexes[e]){const s=this.indexes[e];this.isActor(t)?s.actors.remove(t,n):s.entities.remove(t,n)}}}destroyEntity(t){return this.destroyId(this.entities,t)}destroyId(t,e){const s=t.get(e);return!!s&&(this.world.remove(s),t.delete(e),!0)}fetchComponents(t){const e=this.actors.get(t)||this.entities.get(t);if(e)return e}fetchComponent(t,e){const s=this.actors.get(t)||this.entities.get(t);if(s)return s[e]}getActors(t,e){if(null!==t)return super.getActors(t,e);const s=Array.from(this.actors.keys());return(0,r.paginate)(s,e)}getComponents(t,e){let s;if(null!==t)s=t;else{const t=Array.from(this.actors.keys()),e=Array.from(this.entities.keys());s=t.concat(e)}return(0,r.paginate)(s,e).map((t=>{const e={};for(let s of t)e[s]=this.actors.get(s)||this.entities.get(s);return e}))}getEntities(t,e){if(null!==t)return super.getEntities(t,e);const s=Array.from(this.entities.keys());return(0,r.paginate)(s,e)}getInputs(t,e){return super.getInputs(t,e)}isActor(t){return this.actors.has(t)}isEntity(t){return this.entities.has(t)}setActors(t){return super.setActors(t)}setComponents(t){return super.setComponents(t)}setEntities(t){return super.setEntities(t)}setInputs(t){return super.setInputs(t)}storeActor(t){return this.storeId(this.actors,t)}storeComponent(t,e,s){const n=this.actors.get(t)||this.entities.get(t);if(n){const o=n[e];if(this.world.addComponent(n,e,s),this.componentsIndex.set(t,e),this.indexes[e]){const n=this.indexes[e];this.isActor(t)?n.actors.store(t,s,o):n.entities.store(t,s,o)}}}storeEntity(t){return this.storeId(this.entities,t)}storeId(t,e){const s=t.get(e);return!s&&(t.set(e,s),this.world.add(s),!0)}storeInput(t,e,s=(0,r.now)()){return super.storeInput(t,e,s)}}n()}catch(p){n(p)}}),1)}},t=>(506,t(t.s=506))])));
//# sourceMappingURL=miniplex.echo-d.min.js.map