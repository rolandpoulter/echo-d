!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.echoD=e():t.echoD=e()}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(()=>(()=>{"use strict";var t,e,n,s,o,r,i,c,a,l={329:(t,e,n)=>{n.r(e),n.d(e,{ActorActions:()=>i,ActorActionsFactory:()=>r,actions:()=>a,default:()=>l});var s=n(343),o=n(883);const r=(t=Object)=>class extends t{actorInput(t,e,n){n=s.E.ensure(n,this);const{getActorId:r,compressStringsAsInts:i}=n;let c,a=0;Array.isArray(t)?(c=t[0],a=t[1]||0):c=t;let l=r(c?.id,e);null!=l&&""!==l&&(i&&(l=(0,o.dB)(l,e,n),""===l)||(c?.id||(c.id=l),e.actorInput(l,c,a,n)))}actors(t,e,n){n=n=s.E.ensure(n,this);const{responder:o,isAuthority:r,isAsyncStorage:i,pageSize:c,enableQuerying:a,enumDefaultSymbols:l}=n;if(!r)return;const u=t=>{for(const e of t)o([l.mergeActors,e])},p=e.getActors(a?t:null,c);i?p.emitTo(u):u(p)}mergeActors(t,e,n){n=n=s.E.ensure(n,this),e.mergeActors(t,n)}removeActor(t,e,n){n=n=s.E.ensure(n,this);const{skipPending:r,getActorId:i,compressStringsAsInts:c}=n;null!=(t=i(t,e))&&""!==t&&(c&&""===(t=(0,o.dB)(t,e,n))||e.removeActor(t,r))}spawnActor(t,e,n){n=n=s.E.ensure(n,this);const{skipPending:r,getActorId:i,compressStringsAsInts:c}=n;null!=(t=i(t,e))&&""!==t&&(c&&""===(t=(0,o.dB)(t,e,n))||e.spawnActor(t,r))}};class i extends(r()){}const c=new i,a={actorInput:c.actorInput,actors:c.actors,mergeActors:c.mergeActors,removeActor:c.removeActor,spawnActor:c.spawnActor},l=a},730:(t,e,n)=>{n.r(e),n.d(e,{ComponentActions:()=>i,ComponentActionsFactory:()=>r,actions:()=>a,default:()=>l});var s=n(343),o=n(883);const r=(t=Object)=>class extends t{changeComponent(t,e,n){n=n=s.E.ensure(n,this);const{compressStringsAsInts:r,types:i,isOrdered:c}=n;let[a,l,u]=t,p=c?t[3]:0;if(null!=a&&""!==a&&null!=l&&""!==l){if(r){if(a=(0,o.dB)(a,e,n),!a)return;if(l=(0,o.dB)(l,e,n),!l)return;const t=i[l];if(t&&(t===String||t[0]===String)&&(u=(0,o.vX)(l,u,e,n),!u))return}e.changeComponent(a,l,u,p,n)}}components(t,e,n){n=n=s.E.ensure(n,this);const{responder:o,isAuthority:r,isAsyncStorage:i,pageSize:c,enableQuerying:a,enumDefaultSymbols:l}=n;if(!r)return;const u=t=>{for(const e of t)o([l.mergeComponents,e])},p=e.getComponents(a?t:null,c);i?p.emitTo(u):u(p)}mergeComponents(t,e,n){n=n=s.E.ensure(n,this),e.mergeComponents(t,n)}removeComponent(t,e,n){n=n=s.E.ensure(n,this);const{compressStringsAsInts:r}=n;let[i,c]=t;if(null!=i&&""!==i&&null!=c&&""!==c){if(r){if(i=(0,o.dB)(i,e,n),!i)return;if(c=(0,o.dB)(c,e,n),!c)return}e.removeComponent(i,c,n)}}upsertComponent(t,e,n){n=n=s.E.ensure(n,this);const{compressStringsAsInts:r,types:i,isOrdered:c}=n;let[a,l,u]=t,p=c?t[3]:0;if(null!=a&&""!==a&&null!=l&&""!==l){if(r){if(a=(0,o.dB)(a,e,n),!a)return;if(l=(0,o.dB)(l,e,n),!l)return;const t=i[l];if(t&&(t===String||t[0]===String)&&(u=(0,o.vX)(l,u,e,n),!u))return}e.upsertComponent(a,l,u,p,n)}}};class i extends(r()){}const c=new i,a={changeComponent:c.changeComponent,components:c.components,mergeComponents:c.mergeComponents,removeComponent:c.removeComponent,upsertComponent:c.upsertComponent},l=a},982:(t,e,n)=>{n.r(e),n.d(e,{CoreActions:()=>i,CoreActionsFactory:()=>r,actions:()=>c,default:()=>a});var s=n(833),o=n(343);const r=(t=Object)=>class extends t{batch(t,e,n){n=n=o.E.ensure(n,this),(0,s.p0)(t,e,n)}};class i extends(r()){}const c={batch:(new i).batch},a=c},787:(t,e,n)=>{n.r(e),n.d(e,{EntityActions:()=>i,EntityActionsFactory:()=>r,actions:()=>a,default:()=>l});var s=n(343),o=n(883);const r=(t=Object)=>class extends t{createEntity(t,e,n){n=n=s.E.ensure(n,this);const{skipPending:r,compressStringsAsInts:i}=n;null!=t&&""!==t&&(i&&""===(t=(0,o.dB)(t,e,n))||e.createEntity(t,r))}entities(t,e,n){n=n=s.E.ensure(n,this);const{responder:o,isAuthority:r,isAsyncStorage:i,pageSize:c,enableQuerying:a,enumDefaultSymbols:l}=n;if(!r)return;const u=t=>{for(const e of t)o([l.mergeEntities,e])},p=e.getEntities(a?t:null,c);i?p.emitTo(u):u(p)}mergeEntities(t,e,n){n=n=s.E.ensure(n,this),e.mergeEntities(t,n)}removeEntity(t,e,n){n=n=s.E.ensure(n,this);const{skipPending:r,compressStringsAsInts:i}=n;null!=t&&""!==t&&(i&&""===(t=(0,o.dB)(t,e,n))||e.removeEntity(t,r))}};class i extends(r()){}const c=new i,a={createEntity:c.createEntity,entities:c.entities,mergeEntities:c.mergeEntities,removeEntity:c.removeEntity},l=a},694:(t,e,n)=>{n.r(e),n.d(e,{SymbolActions:()=>i,SymbolActionsFactory:()=>r,actions:()=>a,default:()=>l});var s=n(343),o=n(464);const r=(t=Object)=>class extends t{addSymbol(t,e,n){return n=n=s.E.ensure(n,this),e.addSymbol(t,n)}fetchSymbol(t,e,n){n=n=s.E.ensure(n,this);const{responder:o,enumDefaultSymbols:r}=n;return e.fetchSymbol(t,n,(t=>{o([r.mergeSymbol,t])}))}getSymbol(t,e,n){return n=n=s.E.ensure(n,this),e.getSymbol(t,n)}mergeSymbol(t,e,n){n=n=s.E.ensure(n,this),e.mergeSymbol(t,n)}mergeSymbols(t,e,n){n=n=s.E.ensure(n,this);const[o,r]=t;t&&t.length&&e.resetSymbols(o,r,n)}symbol(t,e,n){n=n=s.E.ensure(n,this);const{actions:o,responder:r,isAuthority:i,enumDefaultSymbols:c,compressStringsAsInts:a}=n;if(!i||!a)return;const l=e.symbolsEnum??{};let u=Object.prototype.hasOwnProperty.call(l,t)?l[t]:-1;-1===u&&(u=o.addSymbol(t,e,n)),-1!==u&&r([c.mergeSymbol,[t,u]])}symbols(t,e,n){n=n=s.E.ensure(n,this);const{responder:r,isAuthority:i,pageSize:c,enumDefaultSymbols:a,compressStringsAsInts:l}=n;if(!i||!l)return;const u=e.symbolsList;if(u&&u.length){const t=(0,o.paginate)(u,c);let e=0;for(const n of t)r([a.mergeSymbols,e,n]),e+=c}}};class i extends(r()){}const c=new i,a={addSymbol:c.addSymbol,fetchSymbol:c.fetchSymbol,getSymbol:c.getSymbol,mergeSymbol:c.mergeSymbol,mergeSymbols:c.mergeSymbols,symbol:c.symbol,symbols:c.symbols},l=a},248:(t,e,n)=>{n.d(e,{J:()=>o});var s=n(464);class o{context;diffs;constructor(t,e){this.context=t,this.diffs=e?.diffs||{}}changeComponent(t,e,n,s){return this.upsertComponent(t,e,n,s)}getValue(t,e,n){const s=this.diffs[t]?.[e];return null==s?n:s}reset(t){return this.diffs=t?.diffs||{},this}upsertComponent(t,e,n,o){this.diffs[t]=this.diffs[t]||{};const r=this.context.store.fetchComponents(t);if(null==r)return this.diffs[t][e]=n,this.context.store.storeComponent(t,e,n),n;let i=this.diffs[t];const c=(t,e,n,o)=>{let r=o;if(!n)return[e,r];const i=(0,s.typeOf)(n[t]),a=(0,s.typeOf)(r);if(i!==a)return e[t]=r,[e=e[t],r];switch(a){case"bigint":case"number":{const s=r-n[t];e[t]=s;break}case"array":e=e[t],n=n[t];for(let t=0;t<r.length;t+=1)c(t.toString(),e,n,r[t]);break;case"object":e=e[t],n=n[t];for(const t in r)c(t,e,n,r[t]);break;default:e[t]=r}return e=e[t],r=r[t],[e,o]};return[i,n]=c(e,i,r,n),this.context.store.storeComponent(t,e,n),n}}},852:(t,e,n)=>{n.d(e,{$B:()=>r,AX:()=>i,HK:()=>c,HQ:()=>d,Rb:()=>y,TT:()=>b,cP:()=>p,dz:()=>f,eX:()=>o,gx:()=>l,hh:()=>m,nb:()=>a,rN:()=>u,vC:()=>h,zA:()=>g});var s=n(464);const o=["actorInput","actors","addSymbol","batch","changeComponent","components","createEntity","entities","fetchSymbol","getSymbol","mergeActors","mergeComponents","mergeEntities","mergeSymbols","mergeSymbol","removeActor","removeComponent","removeEntity","spawnActor","symbol","symbols","upsertComponent"],r=["asset","collider","color","hidden","position","rotation","velocity","spin"],i=(0,s.unionSetOrArray)(o,r),c=0,a=(0,s.createEnum)(o,c),l=(0,s.createEnum)(r,o.length+c),u=(0,s.createEnum)(i,c),p={actorInput:{default:1,rollback:2},changeComponent:{default:3,ordered:4},mergeSymbols:2,removeComponent:2,upsertComponent:{default:3,ordered:4}},h={compressStringsAsInts:!0,enableRollback:!1,enableQuerying:!1,isAuthority:!0,isAsyncStorage:!1,isComponentRelay:!0,isDiffed:!1,isGroupedComponents:!1,isOrdered:!1,isReadOnly:!1,isSymbolLeader:!1,isSymbolRelay:!1,pageSize:100,skipPending:!1,indexes:{position:{type:"spatial"}},types:{asset:"str",collider:"str",color:["ui8",4],hidden:"bool",position:["f32",3],rotation:["f32",3],velocity:["f32",3],spin:["f32",3],size:["f32",3]}},m={mask:{actors:!0,entities:!0,components:!0,inputs:!0,symbols:!0}&&null,type:!0,batched:!0,batchSize:100},d={asset:!0,collider:!0,color:!0,hidden:!0,position:!0,rotation:!0,velocity:!0,spin:!0,size:!0};function f(){}function y(t,e){return t}function g(t,e,n,s){const o=n[s];return Array.isArray(o)?t.slice(e*o[1],(e+1)*o[1]):t[e]}function b(t,e,n){return t}},400:(t,e,n)=>{n.d(e,{_:()=>p});var s=n(248),o=n(343),r=n(745),i=n(131),c=n(883),a=n(699),l=n(464),u=n(568);class p{static ensure(t,e,n=a.Ke){return t instanceof p?t:new p(t,e,n)}constructor(t={},e,n=a.Ke){const{events:l=null,store:p=null,order:h=null,changes:m=null,symbols:d=null,pending:f=null}=t;e=o.E.ensure(e,e?.actions||u.allActions);const{isOrdered:y,isDiffed:g,isReadOnly:b,compressStringsAsInts:S,enableQuerying:A,enumDefaultSymbols:v,worldOptions:C,indexes:w,types:E}=e;this.order=y?new r.P(h):null,this.changes=g?new s.J(this,m):null,S?d?this.symbols=new c.vY(d):(this.symbols=new c.vY,this.symbols.copyEnum(v)):this.symbols=null,this.pending=b?null:f||new i.J(g),this.events=l,this.store=p||new n(p,{types:E,indexes:A?w:null,worldOptions:C})}get actors(){return this.getActors(null,1/0)}getActors(t,e){return this.store.getActors(t,e)}spawnActor(t,e){const{skipPending:n,onUpdate:s}=e;this.store.storeActor(t)&&(!n&&this.pending&&this.pending.spawnActor(t),this.events&&this.events.emit("spawnActor",t),s&&s())}removeActor(t,e){const{skipPending:n,onUpdate:s}=e;this.store.destroyActor(t)&&(!n&&this.pending&&this.pending.removeActor(t),this.events&&this.events.emit("removeActor",t),s&&s())}mergeActors(t,e){const{actions:n,onUpdate:s}=e,o=e.extend({onUpdate:null});for(const e of t)n.spawnActor(e,this,o);s&&s()}get entities(){return this.getEntities(null,1/0)}getEntities(t,e){return this.store.getEntities(t,e)}createEntity(t,e){const{skipPending:n,onUpdate:s}=e;this.store.storeEntity(t)&&(!n&&this.pending&&this.pending.createEntity(t),this.events&&this.events.emit("createEntity",t),s&&s())}removeEntity(t,e){const{skipPending:n,onUpdate:s}=e;this.store.destroyEntity(t)&&(!n&&this.pending&&this.pending.removeEntity(t),this.events&&this.events.emit("removeEntity",t),s&&s())}mergeEntities(t,e){const{actions:n,onUpdate:s}=e,o=e.extend({onUpdate:null});for(const e of t)n.createEntity(e,this,o);s&&s()}get components(){return this.getComponents(null,1/0)}getComponents(t,e){return this.store.getComponents(t,e)}changeComponent(t,e,n,s=0,o){const{actions:r,skipPending:i,isGroupedComponents:c,getGroupedValue:a,types:u,onUpdate:p}=o;if(Array.isArray(t)||t instanceof Uint32Array){if(!c)throw new Error("Cannot change grouped components without isGroupedComponents option");const i=o.extend({onUpdate:null});for(let o=0;o<t.length;o++){const c=a(n,o,u,e);r.changeComponent([t[o],e,c,s],this,i)}return void(p&&p())}const h=this.store.fetchComponent(t,e),m=void 0===h?"created":"updated";if(this.order&&!this.order.changeComponent(t,e,s)&&!this.changes)return;let d;"created"===m?d=n:[,d]=(0,l.combineValues)(h,n),this.changes?this.changes.changeComponent(t,e,d,n):this.store.storeComponent(t,e,d),!i&&this.pending&&this.pending.changeComponent(m,t,e),this.events&&this.events.emit("changeComponent",t,e),p&&p()}upsertComponent(t,e,n,s=0,o){const{actions:r,skipPending:i,isGroupedComponents:c,getGroupedValue:a,types:l,onUpdate:u}=o;if(Array.isArray(t)||t instanceof Uint32Array){if(!c)throw new Error("Cannot upsert grouped components without isGroupedComponents option");const i=o.extend({onUpdate:null});for(let o=0;o<t.length;o++){const c=a(n,o,l,e);r.upsertComponent([t[o],e,c,s],this,i)}return void(u&&u())}const p=this.store.fetchComponent(t,e),h=void 0===p?"created":"updated";if(p!==n){if(this.order&&!this.order.upsertComponent(t,e,s)&&!this.changes)return;this.changes?this.changes.upsertComponent(t,e,n,null):this.store.storeComponent(t,e,n),!i&&this.pending&&this.pending.upsertComponent(h,t,e),this.events&&this.events.emit("upsertComponent",t,e),u&&u()}}removeComponent(t,e,n){const{skipPending:s,onUpdate:o}=n;void 0!==this.store.fetchComponent(t,e)&&(this.store.destroyComponent(t,e),!s&&this.pending&&this.pending.removeComponent(t,e),this.events&&this.events.emit("removeComponent",t,e),o&&o())}mergeComponents(t,e){const{actions:n,onUpdate:s,isComponentRelay:o}=e,r=e.extend({skipPending:!o,onUpdate:null});for(const e in t??{})for(const s in t[e]){const o=[e,s,t[e][s]];n.upsertComponent(o,this,r)}s&&s()}get inputs(){return this.getInputs(null,1/0)}getInputs(t,e){return this.store.getInputs(t,e)}actorInput(t,e,n=0,s){const{skipPending:o,enableRollback:r,onUpdate:i}=s;n=r?n||(0,l.now)():0;const c=this.store.storeInput(t,e,n);!o&&this.pending&&this.pending.actorInput(t,c),this.events&&this.events.emit("actorInput",t,e,c,n),i&&i()}get symbolsList(){return this.symbols?.getSymbols()}get symbolsEnum(){return this.symbols?.getSymbolsEnum()}setSymbols(t){this.symbols?.reset(t)}getSymbol(t,e){const{actions:n}=e,s=this.symbols?.get(t);return s||n.fetchSymbol(s,this,e)[0]}addSymbol(t,e){if(null===this.symbols)return null;const{actions:n,isSymbolLeader:s,skipPending:o,onUpdate:r}=e,i=this.symbolsEnum??{};let c=Object.prototype.hasOwnProperty.call(i,t)?i[t]:-1;return-1===c&&(s?(c=this.symbols.add(t)??-1,!o&&this.pending&&this.pending.addSymbol([t,c]),r&&r()):n.fetchSymbol&&(c=n.fetchSymbol(t,this,e)[1])),-1===c?null:c}fetchSymbol(t,e,n){if(null===this.symbols)return null;const{isSymbolLeader:s,skipPending:o,onUpdate:r}=e,i=this.symbols.fetch(t);if(i[0]&&-1!==i[1])n&&n(i);else if(s){const t=this.symbols.add(i[0]);i[1]=t,!o&&this.pending&&this.pending.addSymbol(i),r&&r()}return i}mergeSymbol(t,e){if(null===this.symbols)return null;const{isSymbolLeader:n,isSymbolRelay:s,skipPending:o,onUpdate:r}=e;this.symbols.merge(t),(n||s)&&!o&&this.pending&&this.pending.addSymbol(t),r&&r()}resetSymbols(t=0,e,n){if(null===this.symbols)return null;const{isSymbolLeader:s,isSymbolRelay:o,skipPending:r,onUpdate:i}=n;this.symbols.reset(t,e),(s||o)&&!r&&this.pending&&this.pending.replaceSymbols(t,e),i&&i()}resetFrame(){this.pending&&this.pending.reset(),this.order&&this.order.reset(),this.changes&&this.changes.reset()}}},833:(t,e,n)=>{n.d(e,{RW:()=>m,ZP:()=>d,dE:()=>a,e6:()=>l,i$:()=>u,p0:()=>h,yf:()=>p});var s=n(400),o=n(343),r=n(699),i=n(290),c=n(464);function a(t,e){return e&&"number"==typeof t&&e[t]&&(t=e[t]),t}function l(t,e){e=e instanceof o.E?e:new o.E(e);const{actions:n,defaultSymbols:s}=e;return o=>{o=a(o,s);const r=s=>{n[o]&&n[o](s,t,e)};return r.action=o,r}}function u(t,e,n){const s=l(e,n=n instanceof o.E?n:new o.E(n));Array.isArray(t)?s(t[0])(t[1]):t&&s(t.action)(t.payload)}const p=h;function h(t,e,n){n=n instanceof o.E?n:new o.E(n);const{batchActionPayloadSizes:s,isOrdered:r,enableRollback:i}=n,c=l(e,n),a=(t,o,c=0)=>{const a=o.action;let l=s[a]||1;l&&"object"==typeof l&&(l=l.ordered&&r?l.ordered:l.rollback&&i?l.rollback:l.default);for(let r=c;r<t.length;r+=l)1===l?o(t[r],e,n):s&&o(t.slice(r,r+l),e,n)};if(Array.isArray(t))a(t,c(t[0]),1);else if(t){const e=c(t.action);a(t.payload,e)}}class m{context;options;constructor(t,e,n,i=r.Ke){this.options=o.E.ensure(e,n),this.context=s._.ensure(t,e,i)}one(t,e){return u(t,this.context,e?this.options.extend(e):this.options)}many(t,e){return h(t,this.context,e?this.options.extend(e):this.options)}getActionHandler(){return l(this.context,this.options)}getSymbolAction(t){return a(t,this.options.defaultSymbols)}updater(t,e=(0,c.now)()){return(0,i.M)(this.context,t?this.options.extend(t):this.options,e)}spawnActor(t,e){return this.context.spawnActor(t,e?this.options.extend(e):this.options)}removeActor(t,e){return this.context.removeActor(t,e?this.options.extend(e):this.options)}actorInput(t,e,n=(0,c.now)(),s){return this.context.actorInput(t,e,n,s?this.options.extend(s):this.options)}createEntity(t,e){return this.context.createEntity(t,e?this.options.extend(e):this.options)}removeEntity(t,e){return this.context.removeEntity(t,e?this.options.extend(e):this.options)}upsertComponent(t,e,n,s=(0,c.now)(),o){return this.context.upsertComponent(t,e,n,s,o?this.options.extend(o):this.options)}changeComponent(t,e,n,s=(0,c.now)(),o){return this.context.changeComponent(t,e,n,s,o?this.options.extend(o):this.options)}removeComponent(t,e,n){return this.context.removeComponent(t,e,n?this.options.extend(n):this.options)}queryComponents(t){return this.context.store.queryComponents(t)}}const d=m},240:(t,e,n)=>{n.d(e,{g:()=>s});class s{items;constructor(t=null,e={}){this.items=t}clear(){this.items=null}clone(){return new s(this.items)}get(t){}has(t,e){return!1}remove(t,e){}set(t,e){return null}store(t,e,n){return e&&this.remove(e,t),this.set(n,t)}query(t){return[]}}},96:(t,e,n)=>{n.d(e,{H:()=>r});var s=n(240),o=n(464);class r extends s.g{constructor(t=[],e={}){super(t)}clear(){this.items=[]}clone(){return new r(this.items)}get(t){const e=this.items.find((e=>e[0]===t));return e?e[1]:[]}has(t,e){const n=this.items.find((e=>e[0]===t));return void 0===e?!!n:!!n&&-1!==n[1].indexOf(e)}remove(t,e){const n=function(t,e,n){const s=(0,o.binaryInsert)(t,e,(t=>t[0])),r=t[s];if(r[0]===e){const e=r[1],o=e.lastIndexOf(n);if(-1!==o)return e.splice(o,1),0===e.length&&t.splice(s,1),[s,o]}return[-1,-1]}(this.items,t,e);return n}set(t,e){const n=function(t,e,n){const s=(0,o.binaryInsert)(t,e,(t=>t[0])),r=t[s];if(r[0]!==e){const o=[n];return t.splice(s,0,[e,o]),[s,0]}{const t=r[1];if(-1===t.indexOf(n))return t.push(n),[s,t.length-1]}return[-1,-1]}(this.items,t,e);return n}query(t){return this.get(t)}}},175:(t,e,n)=>{n.d(e,{x:()=>r});var s=n(240),o=n(464);class r extends s.g{constructor(t=[],{cellSize:e=5}={}){super(t),this.cellSize=e}clear(){this.items=[]}clone(){return new r(this.items)}get(t){const e=this.hash(t);this.items[e]=this.items[e]||[];return this.items[e]||[]}has(t,e){const n=this.hash(t);this.items[n]=this.items[n]||[];const s=this.items[n];return void 0===e?!!s:!!s&&-1!==s.indexOf(e)}hash(t){return 2===t.length?this.hash2d(t[0],t[1]):this.hash3d(t[0],t[1],t[2])}hash2d(t=0,e=0){return 73856093*Math.floor((t+1e3)/this.cellSize)^19349663*Math.floor((e+1e3)/this.cellSize)}hash3d(t=0,e=0,n=0){return 73856093*Math.floor((t+1e3)/this.cellSize)^19349663*Math.floor((e+1e3)/this.cellSize)^83492791*Math.floor((n+1e3)/this.cellSize)}remove(t,e){const n=this.hash(t);this.items[n]=this.items[n]||[];const s=this.items[n],[r]=(0,o.binarySearch)(s,e);return-1===r&&s.splice(r,1),0===s.length&&delete this.items[n],[n,r]}set(t,e){const n=this.hash(t);this.items[n]=this.items[n]||[];const s=this.items[n],[r,i]=(0,o.binarySearch)(s,e);return-1===r&&s.splice(i,0,e),[n,r]}query(t){let e=[];const n=this.cellSize;if(2==(2===t.length?2:3)){const[s,o]=t;for(let t=2*-n;t<2*n+n;t+=n)for(let r=2*-n;r<2*n+n;r+=n){const n=this.items[this.hash2d(s+t,o+r)];void 0!==n&&(e=e.concat(n))}}else{const[s,o,r]=t;for(let t=2*-n;t<2*n+n;t+=n)for(let i=2*-n;i<2*n+n;i+=n)for(let c=2*-n;c<2*n+n;c+=n){const n=this.items[this.hash3d(s+t,o+i,r+c)];void 0!==n&&(e=e.concat(n))}}return e}}},568:(t,e,n)=>{n.r(e),n.d(e,{AllActionsFactory:()=>a,NodeActions:()=>u,actions:()=>h,allActions:()=>l,default:()=>m});var s=n(329),o=n(730),r=n(982),i=n(787),c=n(694);function a(t=Object){return(0,s.ActorActionsFactory)((0,o.ComponentActionsFactory)((0,r.CoreActionsFactory)((0,i.EntityActionsFactory)((0,c.SymbolActionsFactory)(t)))))}const l={...s.default,...o.default,...r.default,...i.default,...c.default};class u extends(a()){}const p=new u,h={actorInput:p.actorInput,actors:p.actors,mergeActors:p.mergeActors,removeActor:p.removeActor,spawnActor:p.spawnActor,changeComponent:p.changeComponent,components:p.components,mergeComponents:p.mergeComponents,removeComponent:p.removeComponent,upsertComponent:p.upsertComponent,batch:p.batch,createEntity:p.createEntity,entities:p.entities,mergeEntities:p.mergeEntities,removeEntity:p.removeEntity,addSymbol:p.addSymbol,fetchSymbol:p.fetchSymbol,getSymbol:p.getSymbol,mergeSymbol:p.mergeSymbol,mergeSymbols:p.mergeSymbols,symbol:p.symbol,symbols:p.symbols},m=h},343:(t,e,n)=>{n.d(e,{E:()=>r});var s=n(852),o=n(568);class r{actions;batchActionPayloadSizes;compressStringsAsInts;defaultSymbols;enableRollback;enableQuerying;enumDefaultSymbols;getActorId;getGroupedValue;indexes;isAuthority;isAsyncStorage;isComponentRelay;isDiffed;isGroupedComponents;isOrdered;isReadOnly;isSymbolLeader;isSymbolRelay;onUpdate;pageSize;responder;skipPending;types;setGroupedValue;updateOptions;worldOptions;static ensure(t={},e){return t instanceof r?t:new r(t,e)}constructor(t={},e=null){const{actions:n=e||o.actions,batchActionPayloadSizes:r=s.cP,compressStringsAsInts:i=s.vC.compressStringsAsInts,defaultSymbols:c=s.AX,enableRollback:a=s.vC.enableRollback,enableQuerying:l=s.vC.enableQuerying,enumDefaultSymbols:u=s.rN,getActorId:p=s.Rb,getGroupedValue:h=s.zA,indexes:m=s.vC.indexes,isAuthority:d=s.vC.isAuthority,isAsyncStorage:f=s.vC.isAsyncStorage,isComponentRelay:y=s.vC.isComponentRelay,isDiffed:g=s.vC.isDiffed,isGroupedComponents:b=s.vC.isGroupedComponents,isOrdered:S=s.vC.isOrdered,isReadOnly:A=s.vC.isReadOnly,isSymbolLeader:v=s.vC.isSymbolLeader,isSymbolRelay:C=s.vC.isSymbolRelay,onUpdate:w=null,pageSize:E=s.vC.pageSize,responder:x=s.dz,skipPending:O=s.vC.skipPending,types:I=s.vC.types,setGroupedValue:k=s.TT,updateOptions:P={},worldOptions:_=null}=t,j={...s.hh,...P};j.validKeys=P?.validKeys?{...s.HQ,...P?.validKeys||{}}:null,this.actions=n,this.batchActionPayloadSizes=r,this.compressStringsAsInts=i,this.defaultSymbols=c,this.enableRollback=a,this.enableQuerying=l,this.enumDefaultSymbols=u,this.getActorId=p,this.getGroupedValue=h,this.indexes=m,this.isAuthority=d,this.isAsyncStorage=f,this.isComponentRelay=y,this.isDiffed=g,this.isGroupedComponents=b,this.isOrdered=S,this.isReadOnly=A,this.isSymbolLeader=v,this.isSymbolRelay=C,this.onUpdate=w,this.pageSize=E,this.responder=x,this.skipPending=O,this.types=I,this.setGroupedValue=k,this.updateOptions=j,this.worldOptions=_}clone(){return new r({...this},this.actions)}extend(t,e=this.actions){return new r({...this,...t},e)}}},745:(t,e,n)=>{n.d(e,{P:()=>o});var s=n(464);class o{order;constructor(t={}){this.order=t}changeComponent(t,e,n){return this.upsertComponent(t,e,n)}reset(t={}){this.order=t}upsertComponent(t,e,n){if(isNaN(n))return!1;if(this.order=this.order||{},this.order[t]=this.order[t]||{},"number"==typeof this.order[t][e]){if(isFinite(this.order[t][e])&&this.order[t][e]<=n){const o=0;return!(n>(0,s.now)()+o||(this.order[t][e]=n,0))}return!1}return this.order[t][e]=n,!0}}},131:(t,e,n)=>{n.d(e,{J:()=>s});class s{constructor(t=!1){this.created={actors:{},components:{},entities:[],inputs:{}},this.removed={actors:{},components:{},entities:[]},this.updated={components:{}},this.symbols=[],this.isDiffed=t}actorInput(t,e){this.created.inputs[t]=this.created.inputs[t]||[],this.created.inputs[t].push(e)}changeComponent(t,e,n){return this.upsertComponent(t,e,n)}createEntity(t){this.created.entities.push(t)}removeActor(t){this.removed.actors[t]=!0}removeComponent(t,e){this.removed.components[t]=this.removed.components[t]||{},this.removed.components[t][e]=!0}removeEntity(t){this.removed.entities.push(t)}reset(){this.constructor()}spawnActor(t){this.created.actors[t]=!0}upsertComponent(t,e,n){const s="created"===t?this.created:this.updated;if(s){if("updated"===t&&this.created.components[e]&&this.created.components[e][n])return;s.components[e]=s.components[e]||{},s.components[e][n]=!0}}addSymbol(t){this.symbols.push(t)}replaceSymbols(t,e){if(t>0){const{length:n}=e,{symbols:s}=this;for(let o=0;o<n;o++){const n=e[o],r=o+t;s[r]=[n,r]}}else this.symbols=e.map(((t,e)=>[t,e]))}}},699:(t,e,n)=>{n.d(e,{n8:()=>l,Ke:()=>u});var s=n(96),o=n(175),r=n(240),i=n(464);class c extends r.g{constructor(t={},e={}){super(t)}clear(){this.items={}}clone(){return new r.g(this.items)}get(t){return this.items[t]}has(t,e){const n=this.items[t];return!(!n||!n.has(e))}remove(t,e){const n=this.items[t];if(n&&n.has(e))return n.delete(e),!0}set(t,e){return this.items[t]=this.items[t]||new Set,!this.items[t].has(e)&&(this.items[t].add(e),!0)}union(t,e){return new c({...this.items,[t]:(0,i.unionSets)(this.items[t],e.items[t])})}difference(t,e){return new c({...this.items,[t]:(0,i.differenceSets)(this.items[t],e.items[t])})}intersection(t,e){return new c({...this.items,[t]:(0,i.intersectionSets)(this.items[t],e.items[t])})}query(t){const{with:e,without:n}=t||{};let s=new Set;if(e)for(const t of e){const e=this.items[t];e&&(s=(0,i.unionSets)(s,e))}if(n)for(const t of n){const e=this.items[t];e&&(s=(0,i.differenceSets)(s,e))}return s}}var a=n(174);const l={sorted:s.H,spatial:o.x};class u{constructor(t={},e={}){const{actors:n=[],entities:s=[],components:o={},inputs:r={}}=t||{},{types:i={},indexes:u={}}=e;this.actors=n||[],this.entities=s||[],this.components=o||{},this.inputs=r||{},this.types=i,this.typeCtors={};for(let t in i){let e=i[t];Array.isArray(e)?e=a.E.get(e[0])||a.X.get(e[0]):"string"==typeof e&&(e=a.E.get(e)||a.X.get(e)),"function"==typeof e&&e&&(this.typeCtors[t]=e)}this.componentsIndex=new c,this.indexes={};for(let t in u){const{type:e}=u[t],n=l[e];n&&(this.indexes[t]={actors:new n([],u[t]),entities:new n([],u[t])})}}destroyActor(t){const e=this.actors;return this.destroyId(e,t)}destroyComponent(t,e){const n=this.components[t][e];if(delete this.components[t][e],this.componentsIndex.remove(t,e),this.indexes[e]){const s=this.indexes[e];this.isActor(t)?s.actors.remove(t,n):s.entities.remove(t,n)}}destroyEntity(t){const e=this.entities;return this.destroyId(e,t)}destroyId(t,e){const[n]=(0,i.binarySearch)(t,e);return-1!==n&&(t.splice(n,1),!0)}fetchComponents(t){return this.components[t]=this.components[t]||{},this.components[t]}fetchComponent(t,e){return this.components[t]=this.components[t]||{},this.components[t][e]}fetchInputs(t){return this.inputs[t]}fetchInput(t,e){this.inputs[t]=this.inputs[t]||[];const n=this.inputs[t][e];return Array.isArray(n)?[{...n[0],id:t},n[1]]:{...n,id:t}}getActors(t=null,e=1/0){if(null!==t){let n={};for(let e in t){const s=this.indexes[e];s&&s.actors.query(t[e]).forEach((t=>{n[t]=!0}))}const s=Object.keys(n);return(0,i.paginate)(s,e)}return(0,i.paginate)(this.actors,e)}getComponents(t=null,e=1/0){let n=this.components;if(null!==t){const e={};for(let n of t)e[n]=this.components[n];n=e}const s=Object.keys(n);return(0,i.paginate)(s,e).map((t=>{const e={};for(let s of t)e[s]=n[s];return e}))}getEntities(t=null,e=1/0){if(null!==t){let n={};for(let e in t){const s=this.indexes[e];s&&s.entities.query(t[e]).forEach((t=>{n[t]=!0}))}const s=Object.keys(n);return(0,i.paginate)(s,e)}return(0,i.paginate)(this.entities,e)}getInputs(t=null,e=1/0){let n=this.inputs;if(null!==t){const e={};for(let n of t)e[n]=this.inputs[n];n=e}const s=Object.keys(n);return(0,i.paginate)(s,e).map((t=>{const e={};for(let s of t)e[s]=n[s];return e}))}isActor(t){return-1!==this.actors.indexOf(t)}isEntity(t){return-1!==this.entities.indexOf(t)}setActors(t){return this.actors=t,t}setComponents(t){return this.components=t,t}setEntities(t){return this.entities=t,t}setInputs(t){return this.inputs=t,t}storeActor(t){const e=this.actors;return this.storeId(e,t)}storeComponent(t,e,n){const s=this.components[t][e];if(this.components[t][e]=n,this.componentsIndex.set(t,e),this.indexes[e]){const o=this.indexes[e];this.isActor(t)?o.actors.store(t,s,n):o.entities.store(t,s,n)}}storeEntity(t){const e=this.entities;return this.storeId(e,t)}storeId(t,e){const[n,s]=(0,i.binarySearch)(t,e);return-1===n&&(t.splice(s,0,e),!0)}storeInput(t,e,n=0){const s=this.inputs;s[t]=s[t]||[];const o=s[t].length;return e.id===t&&delete e.id,s[t].push(n?[e,n]:e),o}queryComponents(t){return this.componentsIndex.query(t)}}},883:(t,e,n)=>{n.d(e,{R$:()=>a,dB:()=>r,s9:()=>i,vX:()=>c,vY:()=>o});var s=n(464);class o{_list;_enum;constructor(t={}){const{_list:e=[]}=t;this._list=e,this._enum=(0,s.createEnum)(e)}add(t){if(t){if(Object.prototype.hasOwnProperty.call(this._enum,t))return this._enum[t];{const e=this._list.length;return this._list[e]=t,this._enum[t]=e,e}}return null}copyEnum(t={}){for(const e of Object.entries(t))this.merge(e)}fetch(t){let e,n;switch(typeof t){case"number":e=t,n=this._list[e]||"";break;case"string":n=t,e=Object.prototype.hasOwnProperty.call(this._enum,n)?this._enum[n]:-1}return[n,e]}find(t){return this._enum[t]}get(t){return this._list[t]}getSymbols(){return this._list}getSymbolsEnum(){return this._enum}merge(t){const[e,n]=t;this._list[n]=e,this._enum[e]=n}reset(t,e=[]){if(t>0){const{length:n}=e,{_list:s}=this,{_enum:o}=this;for(let r=0;r<n;r++){const n=e[r],i=r+t;s[i]=n,o[n]=i}}else this._list=e,this._enum=(0,s.createEnum)(e)}}function r(t,e,n){if("number"==typeof t){const{actions:s}=n,{getSymbol:o}=s,r=o(t,e,n);if(!r)return"";t=r}return t}function i(t,e,n){if("string"==typeof t){const{actions:s}=n,{addSymbol:o}=s,r=o(t,e,n);if("number"==typeof r)return r}return t}function c(t,e,n,s){if("$"===t.charAt(0)){const{actions:t}=s,{getSymbol:o}=t,r=t=>{if(!Array.isArray(t)){switch(typeof t){case"number":{const e=o(t,n,s);e&&(t=e);break}case"object":for(const e in t)t[e]=r(t[e])}return t}t=t.map(r)};return r(e)}return e}function a(t,e,n,s){if("$"===t.charAt(0)){const{actions:t}=s,{addSymbol:o}=t,r=t=>{if(!Array.isArray(t)){switch(typeof t){case"string":{const e=o(t,n,s);"number"==typeof e&&(t=e);break}case"object":for(const e in t)t[e]=r(t[e])}return t}t=t.map(r)};return r(e)}return e}},174:(t,e,n)=>{n.d(e,{E:()=>s,X:()=>o});const s=new Map([["str",String],["num",Number],["bool",Boolean],["map",Map],["set",Set],["arr",Array]]),o=new Map([["i8",Int8Array],["ui8",Uint8Array],["ui8c",Uint8ClampedArray],["i16",Int16Array],["ui16",Uint16Array],["i32",Int32Array],["ui32",Uint32Array],["f32",Float32Array],["f64",Float64Array]])},290:(t,e,n)=>{n.d(e,{M:()=>c});var s=n(343),o=n(883),r=n(174),i=n(464);async function c(t,e,n=(0,i.now)()){e=e instanceof s.E?e:new s.E(e);const{responder:c,enumDefaultSymbols:a,compressStringsAsInts:l,enableRollback:u,isOrdered:p,isDiffed:h,isGroupedComponents:m,isAsyncStorage:d,types:f,setGroupedValue:y,updateOptions:g}=e,{batched:b,batchSize:S,mask:A,type:v,validKeys:C}=g;if(!t.pending)return[];const w=[];let E=[];const{created:x={},removed:O={},symbols:I=[],updated:k={}}=t.pending,P=t.store,_=t=>{b&&E.length&&(w.push([t,...E]),E=[])},j=(n,s)=>{b?(E=E.concat(s),E.length>=S&&_(n)):(l&&(n=(0,o.s9)(n,t,e)),c([n,s],v))},R=n=>(l&&(n=(0,o.s9)(n,t,e)),n),U=async(s={},c)=>{const u=m?{}:null;for(const m in s??{}){if(!(d?await P.fetchComponents(m):P.fetchComponents(m)))break;const g=s?s[m]:{};for(const s in g??{}){if(C&&!C[s])break;const g=f[s]??null,b=g?r.X.get(Array.isArray(g)?g[0]:g):null;let S=null;u&&(S=u[s]=u[s]??{key:s,ids:l?new Uint32Array(0):[],intIds:!0,values:b?new b(0):[],ticks:new Uint32Array(0)});let A=d?await P.fetchComponent(m,s):P.fetchComponent(m,s);h&&t.changes&&"updated"===c&&(A=t.changes.getValue(m,s,A)),l&&(A=(0,o.R$)(s,A,t,e));const v=R(m),w=R(s);if(u){S.ids=l?(0,i.concatTypedArray)(S.ids,[v]):S.ids.concat([m]),v===m&&(S.intIds=!1),S.values=b?(0,i.concatTypedArray)(S.values,y(A,f,s)):S.values.concat(y(A,f,s)),p&&(S.ticks=(0,i.concatTypedArray)(S.ticks,[h?-n:n]));continue}const E=[v,w,A];p&&E.push(h?-n:n),j(h?a.changeComponent:a.upsertComponent,E)}}if(u)for(const t in u){const e=u[t],n=l&&e.intIds?new Uint32Array(e.ids):e.ids,s=f[t]??null,o=s?r.X.get(Array.isArray(s)?s[0]:s):null,i=o?new o(e.values):e.values;let c=0;const m=n.length;for(;c<m;c+=S){const t=[n.slice(c,c+S),e.key,i.slice(c,c+S)];if(p){const n=new Uint32Array(e.ticks.slice(c,c+S));t.push(n)}j(h?a.changeComponent:a.upsertComponent,t)}}_(h?a.changeComponent:a.upsertComponent)};if(!A||!A.entities){for(const t of x.entities??[]){const e=R(t);j(a.createEntity,e)}_(a.createEntity),x.entities=[]}if(!A||!A.actors){for(const t in x.actors??{}){const e=R(t);j(a.spawnActor,e)}_(a.spawnActor),x.actors={}}if(!A||!A.entities){for(const t of O.entities??[]){const e=R(t);j(a.removeEntity,e)}_(a.removeEntity),O.entities=[]}if(!A||!A.actors){for(const t in O.actors??{}){const e=R(t);j(a.removeActor,e)}_(a.removeActor),O.actors={}}if(!A||!A.components){for(const t in O.components??{}){const e=O?.components?O.components[t]:null;if(!e)break;const n=R(t);for(const t in e){if(C&&!C[t])break;const e=[n,R(t)];j(a.removeComponent,e)}}_(a.removeComponent),O.components={}}if(!A||!A.components){const t=U(x.components,"created");x.components={},await t}if(!A||!A.components){const t=U(k.components,"updated");k.components={},await t}if(!A||!A.inputs){for(const t in x.inputs??{}){const e=x?.inputs?x.inputs[t]??[]:[];for(let s=0;s<e.length;s+=1){const o=e[s],r=d?await P.fetchInput(t,o):P.fetchInput(t,o),i=Array.isArray(r),c=i?r[0]:r,l=i?r[1]:n;j(a.actorInput,i||u?[c,l]:c)}}_(a.actorInput),x.inputs={}}if(!A||!A.symbols){for(const t of I){if(b)E.push(t);else{const e=[a.mergeSymbol,t];await c(e,v)}E.length>=S&&E.length&&(w.unshift([a.mergeSymbol].concat(E)),E=[])}b&&E.length&&(w.unshift([a.mergeSymbol].concat(E)),E=[]),t.pending.symbols=[]}if(b&&w.length)for(let t=0;t<w.length;t+=1){const e=w[t];e&&await c([a.batch,e])}return w}},464:(t,e,n)=>{function s(){return performance.timeOrigin+performance.now()}function o(t,e){if(Array.isArray(t)&&Array.isArray(e))return t.concat(e);if(Array.isArray(t)){const n=new e.constructor(t.length);n.set(t),t=n}else if(Array.isArray(e)){const n=new t.constructor(e.length);n.set(e),e=n}const n=new t.constructor(t.length+e.length);return n.set&&(n.set(t),n.set(e,t.length)),n}function r(...t){const e={};for(const n of t)if(n)for(const t of n)e[t]=!0;return Object.keys(e)}function i(t,e){if("function"==typeof t.union)return t.union(t);const n=new Set;for(const e of t)n.add(e);for(const t of e)n.add(t);return n}function c(t,e){if("function"==typeof t.difference)return t.difference(t);const n=new Set;for(const s of t)e.has(s)||n.add(s);return n}function a(t,e){if("function"==typeof t.intersection)return t.intersection(t);const n=new Set;for(const s of t)e.has(s)&&n.add(s);return n}function l(t,e,n=(t=>t)){let s=0,o=t.length;for(;s<o;){const r=s+o>>>1;n(t[r])<e?s=r+1:o=r}return s}function u(t,e,n=(t=>t)){let s=0,o=t.length-1;for(;s<=o;){const r=s+o>>>1,i=n(t[r]);if(i===e)return[r,s];i<e?s=r+1:o=r-1}return[-1,s]}function p(t,e=0){const n={};let s=e;if(t)for(const e of t)n[e]=s++;return n}function h(t){return[t?.action,t?.payload]}function m(t,e){const n=[];let s=[],o=0;for(const r of t)o>=e&&(n.push(s),s=[],o=0),s.push(r),o++;return s.length>0&&n.push(s),n}function d(t){const e=typeof t;if("object"===e){if(!t)return"null";if(Array.isArray(t))return"array"}return e}function f(t,e){return y(t,e)}function y(t,e){const n=d(t);switch(d(e)){case"bigint":case"number":return"number"!==n&&"bigint"!==n?[!1,e]:[!0,t+e];case"array":{if("array"!==n)return[!1,e];const s=[];let o=!0;for(let n=0;n<e.length;n+=1){const[r,i]=y(t[n],e[n]);s[n]=i,!1===r&&(o=!1)}return[o,s]}case"object":{if("object"!==n)return[!1,e];const s={};let o=!0;for(const n in e){const[r,i]=y(t[n],e[n]);!1===r&&(o=!1),s[n]=i}return[o,s]}default:return[!1,e]}}n.r(e),n.d(e,{binaryInsert:()=>l,binarySearch:()=>u,combineValues:()=>f,concatTypedArray:()=>o,createEnum:()=>p,differenceSets:()=>c,intersectionSets:()=>a,messageTuple:()=>h,now:()=>s,paginate:()=>m,recursiveCombination:()=>y,typeOf:()=>d,unionSetOrArray:()=>r,unionSets:()=>i})}},u={};function p(t){var e=u[t];if(void 0!==e)return e.exports;var n=u[t]={exports:{}};return l[t](n,n.exports,p),n.exports}p.m=l,t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",s=t=>{t&&!t.d&&(t.d=1,t.forEach((t=>t.r--)),t.forEach((t=>t.r--?t.r++:t())))},p.a=(o,r,i)=>{var c;i&&((c=[]).d=1);var a,l,u,p=new Set,h=o.exports,m=new Promise(((t,e)=>{u=e,l=t}));m[e]=h,m[t]=t=>(c&&t(c),p.forEach(t),m.catch((t=>{}))),o.exports=m,r((o=>{var r;a=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[t])return o;if(o.then){var r=[];r.d=0,o.then((t=>{i[e]=t,s(r)}),(t=>{i[n]=t,s(r)}));var i={};return i[t]=t=>t(r),i}}var c={};return c[t]=t=>{},c[e]=o,c})))(o);var i=()=>a.map((t=>{if(t[n])throw t[n];return t[e]})),l=new Promise((e=>{(r=()=>e(i)).r=0;var n=t=>t!==c&&!p.has(t)&&(p.add(t),t&&!t.d&&(r.r++,t.push(r)));a.map((e=>e[t](n)))}));return r.r?l:i()}),(t=>(t?u(m[n]=t):l(h),s(c)))),c&&(c.d=0)},o=[],p.O=(t,e,n,s)=>{if(!e){var r=1/0;for(l=0;l<o.length;l++){for(var[e,n,s]=o[l],i=!0,c=0;c<e.length;c++)(!1&s||r>=s)&&Object.keys(p.O).every((t=>p.O[t](e[c])))?e.splice(c--,1):(i=!1,s<r&&(r=s));if(i){o.splice(l--,1);var a=n();void 0!==a&&(t=a)}}return t}s=s||0;for(var l=o.length;l>0&&o[l-1][2]>s;l--)o[l]=o[l-1];o[l]=[e,n,s]},i=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,p.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var n=Object.create(null);p.r(n);var s={};r=r||[null,i({}),i([]),i(i)];for(var o=2&e&&t;"object"==typeof o&&!~r.indexOf(o);o=i(o))Object.getOwnPropertyNames(o).forEach((e=>s[e]=()=>t[e]));return s.default=()=>t,p.d(n,s),n},p.d=(t,e)=>{for(var n in e)p.o(e,n)&&!p.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},p.f={},p.e=t=>Promise.all(Object.keys(p.f).reduce(((e,n)=>(p.f[n](t,e),e)),[])),p.u=t=>t+".echo-d.min.js",p.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),p.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),c={},a="echoD:",p.l=(t,e,n,s)=>{if(c[t])c[t].push(e);else{var o,r;if(void 0!==n)for(var i=document.getElementsByTagName("script"),l=0;l<i.length;l++){var u=i[l];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==a+n){o=u;break}}o||(r=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,p.nc&&o.setAttribute("nonce",p.nc),o.setAttribute("data-webpack",a+n),o.src=t),c[t]=[e];var h=(e,n)=>{o.onerror=o.onload=null,clearTimeout(m);var s=c[t];if(delete c[t],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((t=>t(n))),e)return e(n)},m=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),r&&document.head.appendChild(o)}},p.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;p.g.importScripts&&(t=p.g.location+"");var e=p.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var s=n.length-1;s>-1&&!t;)t=n[s--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),p.p=t})(),(()=>{var t={647:0};p.f.j=(e,n)=>{var s=p.o(t,e)?t[e]:void 0;if(0!==s)if(s)n.push(s[2]);else{var o=new Promise(((n,o)=>s=t[e]=[n,o]));n.push(s[2]=o);var r=p.p+p.u(e),i=new Error;p.l(r,(n=>{if(p.o(t,e)&&(0!==(s=t[e])&&(t[e]=void 0),s)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;i.message="Loading chunk "+e+" failed.\n("+o+": "+r+")",i.name="ChunkLoadError",i.type=o,i.request=r,s[1](i)}}),"chunk-"+e,e)}},p.O.j=e=>0===t[e];var e=(e,n)=>{var s,o,[r,i,c]=n,a=0;if(r.some((e=>0!==t[e]))){for(s in i)p.o(i,s)&&(p.m[s]=i[s]);if(c)var l=c(p)}for(e&&e(n);a<r.length;a++)o=r[a],p.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return p.O(l)},n=Object("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).webpackChunkechoD=Object("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).webpackChunkechoD||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var h={};return(()=>{p.r(h),p.d(h,{Actions:()=>e.eX,Actor:()=>w,ArrayTypes:()=>y.X,BasicTypes:()=>y.E,Changes:()=>r.J,Client:()=>t,CommonComponents:()=>e.$B,Component:()=>E,Context:()=>i._,Core:()=>x,DefaultSymbols:()=>e.AX,Emitter:()=>c,Entitity:()=>O,Handler:()=>a.RW,Index:()=>n.g,IndexMap:()=>d.n8,Node:()=>S,Options:()=>l.E,Ordered:()=>u.P,Pending:()=>m.J,SortedIndex:()=>s.H,SpatialIndex:()=>o.x,Storage:()=>d.Ke,Symbol:()=>I,Symbols:()=>f.vY,batchActionPayloadSizes:()=>e.cP,default:()=>k,defaultGetActorId:()=>e.Rb,defaultGetGroupedValue:()=>e.zA,defaultOptions:()=>e.vC,defaultSetGroupedValue:()=>e.TT,defaultUpdateOptions:()=>e.hh,defaultValidKeys:()=>e.HQ,ensureSymbolIndex:()=>f.s9,enumActions:()=>e.nb,enumCommonComponents:()=>e.gx,enumDefaultSymbols:()=>e.rN,extractSymbol:()=>f.dB,getActionHandler:()=>a.e6,getSymbolAction:()=>a.dE,handler:()=>a.yf,manyHandler:()=>a.p0,oneHandler:()=>a.i$,padEnum:()=>e.HK,recursiveSymbolExtraction:()=>f.vX,recursiveSymbolIndexesEnsured:()=>f.R$,updater:()=>g.M,utils:()=>b,voidResponder:()=>e.dz});var t={};p.r(t),p.d(t,{ClientActions:()=>A,actions:()=>v,default:()=>C});var e=p(852),n=p(240),s=p(96),o=p(175),r=p(248),i=p(400);class c{handlers;constructor(){this.handlers=[]}emitTo(t){return this.handlers.push(t),t}emit(t){for(const e of this.handlers)e(t)}}var a=p(833),l=p(343),u=p(745),m=p(131),d=p(699),f=p(883),y=p(174),g=p(290),b=p(464),S=p(568);class A extends S.NodeActions{actors(){}components(){}entities(){}symbol(){}symbols(){}}const v={...S.default,actors:null,components:null,entities:null,symbol:null,symbols:null},C=v;var w=p(329),E=p(730),x=p(982),O=p(787),I=p(694);const k=a.ZP})(),p.O(h)})()));
//# sourceMappingURL=lib.echo-d.min.js.map